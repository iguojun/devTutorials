<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Object-oriented JavaScript example</title>
    </head>

    <body>
        <p>This example requires you to enter commands in your browser's JavaScript console (see <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">What are browser developer tools</a> for more information).</p>

        <p>事实上，一种极其常见的对象定义模式是，在构造器（函数体）中定义属性、在 prototype 属性上定义方法。如此，构造器只包含属性定义，而方法则分装在不同的代码块，代码更具可读性。例如：</p>

        <pre>
// 构造器及其属性定义

function Test(a,b,c,d) {
// 属性定义
};

// 定义第一个方法

Test.prototype.x = function () { ... }

// 定义第二个方法

Test.prototype.y = function () { ... }

// 等等……
        </pre>
    </body>
    <script>
        function Person(first, last, age, gender, interests) 
        {
            this.name = {
                'first': first,
                'last': last,
            };
            this.age = age;
            this.gender = gender;
            this.interests = '';
            for (let i = 0; i < interests.length; i++) {
                this.interests += i === 0 ? '' : ' ';
                this.interests += i === (interests.length - 1) ? ' and ' : '';
                this.interests += interests[i];
            }

            this.bio = function() 
            {
                alert(`${this.name.first} ${this.name.last} is ${this.age} years old. ${this.gender === 'female' ? 'She' : 'He'} likes ${this.interests}.`);
            };
            this.greeting = function()
            {
                alert(`Hi! I'm ${this.name.first}.`);
            };
        };

        let person1 = new Person('Jenny', 'Kwok', 32, 'female', ['music', 'skiing', 'singing', 'dating', 'reading']);

        // 继承链动态地更新，任何由此构造器创建的对象实例都自动获得了这个方法。
        // 所以，farewell() 方法仍然可用于 person1 对象实例——旧有对象实例的可用功能被自动更新了。
        Person.prototype.farewell = function()
        {
            alert(`${this.name.first} has left the building. Bye for now!`);
        }
    </script>
</html>